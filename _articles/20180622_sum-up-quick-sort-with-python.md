---
id: 18
title: "ðŸ“Š íŒŒì´ì¬ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” Quick-Sort"
subtitle: ""
date: "2018.06.22"
---

quick sortëŠ” ë§ ê·¸ëŒ€ë¡œ ë¹ ë¥¸ ì •ë ¬ì„ ì˜ë¯¸í•œë‹¤. í° ë¬¸ì œë¥¼ ìª¼ê°œ ìž‘ì€ ë¬¸ì œë¡œ ë§Œë“¤ì–´ì„œ ì •ë³µí•˜ëŠ” divide-and-conquer íŒ¨ëŸ¬ë‹¤ìž„ì— ë°”íƒ•ì„ ë‘ê³  ìžˆì–´ í¼í¬ë¨¼ìŠ¤ê°€ ì¢‹ë‹¤.

![í€µ ì†ŒíŠ¸ ë§¤ì»¤ë‹ˆì¦˜. í¬ê²Œ 5ë‹¨ê³„.](/images/169651195-b2cb3ac0-2c83-4372-b160-3f0366c259e9.webp)
*https://idea-instructions.com/quick-sort/*

ê¸°ë³¸ì ì¸ ë§¤ì»¤ë‹ˆì¦˜ì€ ê·¸ë¦¬ ì–´ë µì§€ ì•Šë‹¤.

1. ë¦¬ìŠ¤íŠ¸ì—ì„œ ê°’ í•˜ë‚˜ë¥¼ ê³¨ë¼ pivotìœ¼ë¡œ ì •í•œë‹¤.
2. pivotë³´ë‹¤ ìž‘ì€ ê²ƒì€ pivotì˜ ì™¼ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
3. pivotë³´ë‹¤ í° ê²ƒì€ pivotì˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
4. pivotì˜ ì™¼ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë˜ pivotì„ ì •í•˜ê³ , pivotë³´ë‹¤ ìž‘ì€ ê²ƒì€ ì™¼ìª½, í° ê²ƒì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ ì™¼ìª½, ì˜¤ë¥¸ìª½ ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì´ë™í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.
5. pivotì˜ ì˜¤ë¥¸ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë˜ pivotì„ ì •í•˜ê³  pivotë³´ë‹¤ ìž‘ì€ ê²ƒì€ ì™¼ìª½, í° ê²ƒì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ ì™¼ìª½, ì˜¤ë¥¸ìª½ ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì´ë™í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.

ìœ„ ê³¼ì •ì„ ìž¬ê·€ì ìœ¼ë¡œ ë°˜ë³µí•˜ë©´ ë¦¬ìŠ¤íŠ¸ì˜ ê°’ë“¤ì´ ì •ë ¬ëœë‹¤. ë‹¨ê³„ì ìœ¼ë¡œ ì‚´íŽ´ë³´ë©´ ì´ë ‡ë‹¤.

```python
# input
[85, 24, 63, 45, 17, 31, 96, 50]

# 50ì„ pivotìœ¼ë¡œ ì •í•œë‹¤.
[85, 24, 63, 45, 17, 31, 96, "50"]

# pivot(50)ë³´ë‹¤ ìž‘ì€ ê²ƒì€ pivotì˜ ì™¼ìª½ìœ¼ë¡œ, í° ê²ƒì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
[24, 45, 17, 31, "50", 85, 63, 96]

# pivot(50)ì˜ ì™¼ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³ , 31ì„ pivotìœ¼ë¡œ ì •í•œë‹¤.
[_, _, _, _, "50", 85, 63, 96]
[24, 45, 17, "31"]

# pivot(31)ë³´ë‹¤ ìž‘ì€ ê²ƒì€ pivot(31)ì˜ ì™¼ìª½ìœ¼ë¡œ, í° ê²ƒì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
[_, _, _, _, "50", 85, 63, 96]
[24, 17, "31", 45]

# pivot(31)ì˜ ì™¼ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³ , 17ì„ pivotìœ¼ë¡œ ì •í•œë‹¤.
[_, _, _, _, "50", 85, 63, 96]
[_, _, "31", 45]
[24, "17"]

# pivot(17)ë³´ë‹¤ ìž‘ì€ ê²ƒì€ pivot(17)ì˜ ì™¼ìª½ìœ¼ë¡œ, í° ê²ƒì€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
[_, _, _, _, "50", 85, 63, 96]
[_, _, "31", 45]
["17", 24]

# pivot(17)ì˜ ì™¼ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤. (ì™¼ìª½ì— ê°’ì´ ì—†ìœ¼ë¯€ë¡œ íŒ¨ìŠ¤)
[_, _, _, _, "50", 85, 63, 96]
[_, _, "31", 45]
["17", 24]
[]

# pivot(17)ì˜ ì˜¤ë¥¸ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤. (ê°’ì´ í•˜ë‚˜ì´ë¯€ë¡œ íŒ¨ìŠ¤)
[_, _, _, _, "50", 85, 63, 96]
[_, _, "31", 45]
["17", _]
[] [24]

# ë¦¬ìŠ¤íŠ¸ë¥¼ pivot(17) ì˜¤ë¥¸ìª½ì— ë„£ëŠ”ë‹¤. (í˜¸ì¶œí•œ ê°’ì´ returnë˜ëŠ” ê³¼ì •)
[_, _, _, _, "50", 85, 63, 96]
[_, _, "31", 45]
["17", 24]
[] [_]

# ë¦¬ìŠ¤íŠ¸ë¥¼ pivot(31) ì™¼ìª½ì— ë„£ëŠ”ë‹¤. (í˜¸ì¶œí•œ ê°’ì´ returnë˜ëŠ” ê³¼ì •)
[_, _, _, _, "50", 85, 63, 96]
[17, 24, "31", 45]
[_, _]
[] [_]

# pivot(31)ì˜ ì˜¤ë¥¸ìª½ì— ìžˆëŠ” ê°’ë“¤ë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤. (ê°’ì´ í•˜ë‚˜ì´ë¯€ë¡œ íŒ¨ìŠ¤)
[_, _, _, _, "50", 85, 63, 96]
[17, 24, "31", 45]
[_, _] [45]
[] [_]

# ë¦¬ìŠ¤íŠ¸ë¥¼ pivot(31) ì˜¤ë¥¸ìª½ì— ë„£ëŠ”ë‹¤. (í˜¸ì¶œí•œ ê°’ì´ returnë˜ëŠ” ê³¼ì •)
[_, _, _, _, "50", 85, 63, 96]
[17, 24, "31", 45]
[_, _] [_]
[] [_]

# ë¦¬ìŠ¤íŠ¸ë¥¼ pivot(50) ì™¼ìª½ì— ë„£ëŠ”ë‹¤. (í˜¸ì¶œí•œ ê°’ì´ returnë˜ëŠ” ê³¼ì •)
[17, 24, 31, 45, "50", 85, 63, 96]
[_, _, _, _]
[_, _] [_]
[] [_]

# ìœ„ ê³¼ì •ì„ pivot(50)ì˜ ì˜¤ë¥¸ìª½ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•´ ë°˜ë³µí•œë‹¤.
[17, 24, 31, 45, "50", 63, 85, 96]
[_, _, _, _]   [_, _, _]
[_, _] [_] [_, _] []
[] [_] [_] []

# output
[17, 24, 31, 45, 50, 63, 85, 96]
```

ì—¬ê¸°ì„œëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ë§ˆì§€ë§‰ ê°’ì„ í•­ìƒ pivotìœ¼ë¡œ ì •í–ˆì§€ë§Œ, randomí•˜ê²Œ pivotì„ ì •í•  ìˆ˜ë„ ìžˆê³ , ì¤‘ì•™ê°’ì„ pivotìœ¼ë¡œ ì •í•  ìˆ˜ë„ ìžˆë‹¤. ì¤‘ì•™ê°’ì„ pivotìœ¼ë¡œ ì •í•˜ëŠ” ì •ë ¬ ê³¼ì •ì„ ì‹œê°í™”í•˜ë©´ [ì´ ì˜ìƒ](https://www.youtube.com/embed/8hEyhs3OV1w?rel=0)ì²˜ëŸ¼ ë³´ì¸ë‹¤. (quick sortë¥¼ ì´í•´í•˜ëŠ” ë° ë³„ë¡œ ë„ì›€ì€ ì•ˆ ë˜ì§€ë§Œ ìž¬ë°Œë‹¤.)

ê·¸ë¦¬ê³  ì¢€ ë” ìµœì í™”ëœ ë°©ë²•ìœ¼ë¡œ inplace quick sortë¥¼ ì“¸ ìˆ˜ ìžˆë‹¤. inplace ë°©ì‹ì€ pivotì„ ì •í•˜ê³  ì™¼ìª½, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°’ë“¤ì„ ì´ë™ì‹œí‚¤ëŠ” ê³¼ì •ì„ ê°œì„ í•œ ê²ƒì´ë‹¤.

1. ë¨¼ì € ì™¼ìª½ì—ì„œ ì¶œë°œí•˜ëŠ” ì¸ë±ìŠ¤ `l`ê³¼ ì˜¤ë¥¸ìª½ì—ì„œ ì¶œë°œí•˜ëŠ” ì¸ë±ìŠ¤ `r`ì„ ë§Œë“ ë‹¤.
2. `l`ì€ pivotë³´ë‹¤ í° ê°’ì„ ë§Œë‚˜ë©´ ì •ì§€í•˜ê³ , `r`ì€ pivotë³´ë‹¤ ìž‘ì€ ê°’ì„ ë§Œë‚˜ë©´ ì •ì§€í•œë‹¤.
3. ë‘ ì¸ë±ìŠ¤ê°€ ëª¨ë‘ ì •ì§€í•˜ë©´ ê°’ì„ êµì²´í•œë‹¤.
4. ì´ ê³¼ì •ì„ `l`ê³¼ `r`ì´ ê°™ì•„ì§ˆ ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.

ì´ëŸ° ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ë” ì ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

```python
# pivot = 50
# l = 85, r = 96, (l > pivot)
["85", 24, 63, 45, 17, 31, "96", "50"]

# l = 85, r = 31, (l > pivot) (r < pivot)
["85", 24, 63, 45, 17, "31", 96, "50"]

# lê³¼ rì„ êµì²´
["31", 24, 63, 45, 17, "85", 96, "50"]

# l = 24, r = 17, (r < pivot)
[31, "24", 63, 45, "17", 85, 96, "50"]

# l = 63, r = 17 (l > pivot) (r < pivot)
[31, 24, "63", 45, "17", 85, 96, "50"]

# lê³¼ rì„ êµì²´
[31, 24, "17", 45, "63", 85, 96, "50"]

# l = 45, r = 45 (l == r)
[31, 24, 17, "45", 63, 85, 96, "50"]

# l(45)ê³¼ r(45)ì´ pivotë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ìœ¼ë¯€ë¡œ l += 1
# l = 63, r = 45
[31, 24, 17, "45", "63", 85, 96, "50"]

# lê³¼ pivotì„ êµì²´
[31, 24, 17, 45, "50", 85, 96, 63]
```

íŒŒì´ì¬ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```python
def quick_sort(S, a, b):
  if a >= b:
    return

  pivot = S[b]
  left = a
  right = b - 1

  while left <= right:
    while left <= right and S[left] < pivot:
      left += 1

    while left <= right and pivot < S[right]:
      right -= 1

    if left <= right:
      S[left], S[right] = S[right], S[left]
      left, right = left + 1, right - 1

  S[left], S[b] = S[b], S[left]

  quick_sort(S, a, left - 1)
  quick_sort(S, left + 1, b)
```

ì´ë¯¸ ì •ë ¬ë˜ì–´ ìžˆëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ quick sortë¡œ ì •ë ¬í•˜ëŠ” ê²½ìš° $O(n^2)$ ì‹œê°„ì´ ê±¸ë¦°ë‹¤. ì¦‰, worst caseì—ì„œ $O(n^2)$ ì‹œê°„ì´ ê±¸ë¦°ë‹¤ëŠ” ë§ì´ë‹¤. ìž¬ë°ŒëŠ” ê²ƒì€ average caseì—ì„œë„ $O(n \log n)$ ì‹œê°„ì´ ê±¸ë¦¬ëŠ”ë°, ì´ëŠ” quick sortë¼ëŠ” ì´ë¦„ì´ ë¶™ì„ ì •ë„ë¡œ ë¹ ë¥¸ ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ quick sortì¸ ì´ìœ ëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ìºì‹œ hit ratioê°€ ë†’ê¸° ë•Œë¬¸ì´ë‹¤. (ì»´í“¨í„° ì•„í‚¤í…ì²˜ì— ê´€í•œ ë¶€ë¶„ì´ë‹¤.) ê·¸ëž˜ì„œ ì´ë¡ ì ìœ¼ë¡œëŠ” í‰ê·  $O(n \log n)$ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë” ë¹ ë¥´ê²Œ ì •ë ¬ëœë‹¤.
