<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><title>ES6 화살표 함수의 this에 관하여</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible"content="ie=edge"><meta name="theme-color"content="#F5F5F5"><meta name="description"content="동아리 웹 세미나 중 jQuery를 이용해서 요소를 클릭하면 요소의 내용이 바뀌는 예제를 시연했다.$('#el').on('click', function() {  $(this).html('clicked!');});물론 잘 된다. 그런데 개발환경을 설명하는 부분에서 npm과 babel까지 설치하고 ES6로 같은 예제를 돌렸는..."><link rel="canonical"href="https://parksb.github.io/article/14.html"><meta name="fediverse:creator"content="@parksb@silicon.moe"><meta property="og:title"content="ES6 화살표 함수의 this에 관하여"><meta property="og:image"content="https://og-image-parksb.vercel.app/api/parksb-github-io?title=ES6%20%ED%99%94%EC%82%B4%ED%91%9C%20%ED%95%A8%EC%88%98%EC%9D%98%20this%EC%97%90%20%EA%B4%80%ED%95%98%EC%97%AC&subtitle=&date=2018.05.20"><meta property="og:description"content="동아리 웹 세미나 중 jQuery를 이용해서 요소를 클릭하면 요소의 내용이 바뀌는 예제를 시연했다.$('#el').on('click', function() {  $(this).html('clicked!');});물론 잘 된다. 그런데 개발환경을 설명하는 부분에서 npm과 babel까지 설치하고 ES6로 같은 예제를 돌렸는..."><meta name="twitter:title"content="ES6 화살표 함수의 this에 관하여"><meta name="twitter:image"content="https://og-image-parksb.vercel.app/api/parksb-github-io?title=ES6%20%ED%99%94%EC%82%B4%ED%91%9C%20%ED%95%A8%EC%88%98%EC%9D%98%20this%EC%97%90%20%EA%B4%80%ED%95%98%EC%97%AC&subtitle=&date=2018.05.20"><meta name="twitter:description"content="동아리 웹 세미나 중 jQuery를 이용해서 요소를 클릭하면 요소의 내용이 바뀌는 예제를 시연했다.$('#el').on('click', function() {  $(this).html('clicked!');});물론 잘 된다. 그런데 개발환경을 설명하는 부분에서 npm과 babel까지 설치하고 ES6로 같은 예제를 돌렸는..."><meta name="twitter:card"content="summary_large_image"><link rel="shortcut icon"href="../assets/favicon.ico"type="image/x-icon"><link rel="preload"href="https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/Pretendard/woff2/Pretendard-VF-Distilled.woff2"as="font"type="font/woff2"crossorigin><link rel="preload"href="https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/RobotoMono/woff2/RobotoMono-VF-Distilled.woff2"as="font"type="font/woff2"crossorigin><style>@font-face { font-family: 'Pretendard'; src: url('https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/Pretendard/woff2/Pretendard-VF-Distilled.woff2'), local('Pretendard') format('woff2'); font-display: swap; }
      @font-face { font-family: 'RobotoMono'; src: local('RobotoMono'), url('https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/RobotoMono/woff2/RobotoMono-VF-Distilled.woff2') format('woff2'); font-display: swap; }
      a:hover { color: #005ccc !important; }
      #article-content-container a:hover, #article-content-container a:focus { text-decoration: underline !important; }
      #article-content-container .table-of-contents ul li:before { content: counters(item, ".") ". "; counter-increment: item; }
      #article-content-container .footnotes > .footnotes-list > .footnote-item > span { font-size: 0.9rem; }</style></head><body style="font-family: Pretendard,sans-serif; font-size: 16px; margin: 0; padding: 20px 30px 50px 30px; word-break: keep-all;"><header id="top-container"role="navigation"><nav><a class="special-anchor"href="/"style="color: #000; text-decoration: none; cursor: pointer;"><span class="t1"style="font-size: 1.5rem; font-weight: 800;">박성범</span> <span class="t2"style="font-size: 1rem; font-weight: 400;">Simon Park</span></a></nav></header><main id="main-container"style="max-width: 800px; margin-top: 30px; margin-bottom: 30px;"><article id="article-container"><div class="back-to-article-list"style="font-size: 1rem; margin-bottom: 1rem;"><a href="../articles.html"style="color: #000; text-decoration: none; cursor: pointer;"><span class="symbol"style="font-family: Pretendard,sans-serif;">←</span> Articles</a></div><h1 id="article-title"style="margin: 0; padding: 0; font-size: 1.5rem; font-weight: 700;">ES6 화살표 함수의 this에 관하여</h1><a href="https://github.com/parksb/parksb.github.io/commits/development/_articles/20180520_this-in-arrow-function.md"style="color: #000; text-decoration: none; cursor: pointer;"><time id="article-date"style="font-family: RobotoMono,monospace; font-size: .8rem;">2018.05.20<span class="symbol"style="font-family: Pretendard,sans-serif;">↗</span></time></a><section id="article-content-container"style="margin-top: 30px;"><details style="margin: 0; padding: 0; display: inline; margin-bottom: 10px;"><summary style="font-weight: 700; cursor: pointer;">Table of Contents</summary><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"></p><div class="table-of-contents"style="font-size: 15px;"><ul style="padding: 0; margin-left: 2rem; list-style-type: none; counter-reset: item; margin: 0; padding-left: 1rem;"></ul></div><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"></p></details><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">동아리 웹 세미나 중 jQuery를 이용해서 요소를 클릭하면 요소의 내용이 바뀌는 예제를 시연했다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-js"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#6F42C1">$</span><span style="color:#24292E">(</span><span style="color:#032F62">'#el'</span><span style="color:#24292E">).</span><span style="color:#6F42C1">on</span><span style="color:#24292E">(</span><span style="color:#032F62">'click'</span><span style="color:#24292E">, </span><span style="color:#D73A49">function</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#6F42C1">  $</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">).</span><span style="color:#6F42C1">html</span><span style="color:#24292E">(</span><span style="color:#032F62">'clicked!'</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">});</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">물론 잘 된다. 그런데 개발환경을 설명하는 부분에서 npm과 babel까지 설치하고 ES6로 같은 예제를 돌렸는데 왠지 작동하지 않았다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-js"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> $ </span><span style="color:#D73A49">from</span><span style="color:#032F62"> 'jquery'</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#6F42C1">$</span><span style="color:#24292E">(</span><span style="color:#032F62">'#el'</span><span style="color:#24292E">).</span><span style="color:#6F42C1">on</span><span style="color:#24292E">(</span><span style="color:#032F62">'click'</span><span style="color:#24292E">, () </span><span style="color:#D73A49">=></span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">  $</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">).</span><span style="color:#6F42C1">html</span><span style="color:#24292E">(</span><span style="color:#032F62">'clicked!'</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">});</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">뭔가 webpack에서 설정을 잘못해서 서버에 반영이 되지 않는 상황인줄 알고 일단 넘어갔다. 그런데 지금 생각해보니 결정적인 부분에서 실수한 것이었다. <strong>화살표 함수에서 <code style="font-family: RobotoMono,monospace;">this</code>는 스스로를 가리키지 않는다.</strong> 대신 외부 컨텍스트의 <code style="font-family: RobotoMono,monospace;">this</code>값이 적용된다.</p><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">화살표 함수가 없던 구버전 ECMAScript에서는 외부 컨텍스트의 <code style="font-family: RobotoMono,monospace;">this</code>에 접근하려면 별도의 변수를 만들어야했다. (<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/%EC%95%A0%EB%A1%9C%EC%9A%B0_%ED%8E%91%EC%85%98#%EB%B0%94%EC%9D%B8%EB%94%A9_%EB%90%98%EC%A7%80_%EC%95%8A%EC%9D%80_this"style="text-decoration: none; cursor: pointer; color: #005ccc;">MDN 화살표 함수 문서</a>를 인용했다.)</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-js"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> Person</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#D73A49">  var</span><span style="color:#24292E"> that </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> this</span><span style="color:#24292E">;  </span></span>
<span class="line"><span style="color:#24292E">  that.age </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">  setInterval</span><span style="color:#24292E">(</span><span style="color:#D73A49">function</span><span style="color:#6F42C1"> growUp</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#24292E">    that.age</span><span style="color:#D73A49">++</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  }, </span><span style="color:#005CC5">1000</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">외부 컨텍스트 <code style="font-family: RobotoMono,monospace;">Person</code>의 <code style="font-family: RobotoMono,monospace;">age</code>에 접근하기 위해 <code style="font-family: RobotoMono,monospace;">that</code>이라는 변수를 사용했다. 하지만 화살표 함수를 쓴다면?</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-js"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> Person</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.age </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">  setInterval</span><span style="color:#24292E">(() </span><span style="color:#D73A49">=></span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    this</span><span style="color:#24292E">.age</span><span style="color:#D73A49">++</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  }, </span><span style="color:#005CC5">1000</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"><code style="font-family: RobotoMono,monospace;">this</code>가 <code style="font-family: RobotoMono,monospace;">Person</code> 객체를 참조하기 때문에 바로 <code style="font-family: RobotoMono,monospace;">age</code>에 접근할 수 있다. <code style="font-family: RobotoMono,monospace;">that</code> 같은 변수는 필요하지 않다.</p><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">그렇다면 클릭 이벤트는 어떻게 처리해야 할까?</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-js"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> $ </span><span style="color:#D73A49">from</span><span style="color:#032F62"> 'jquery'</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#6F42C1">$</span><span style="color:#24292E">(</span><span style="color:#032F62">'#el'</span><span style="color:#24292E">).</span><span style="color:#6F42C1">on</span><span style="color:#24292E">(</span><span style="color:#032F62">'click'</span><span style="color:#24292E">, (</span><span style="color:#E36209">e</span><span style="color:#24292E">) </span><span style="color:#D73A49">=></span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">  $</span><span style="color:#24292E">(e.currentTarget).</span><span style="color:#6F42C1">html</span><span style="color:#24292E">(</span><span style="color:#032F62">'clicked!'</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">});</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">jQuery에서는 <code style="font-family: RobotoMono,monospace;">currentTarget</code>이라는 속성을 제공한다. 클릭 이벤트가 발생했을 때 이벤트 객체 <code style="font-family: RobotoMono,monospace;">e</code>의 <code style="font-family: RobotoMono,monospace;">currentTarget</code>에 접근하면 클릭된 요소를 조작할 수 있다.</p></section><section id="article-navigation"style="margin-top: 50px; overflow: hidden;"><div class="article-navigation-item article-navigation-next"style="margin-bottom: 1rem; text-align: left; float: left; margin-right: 5px;"><a href="15.html"style="color: #000; text-decoration: none; cursor: pointer;"><div class="article-navigation-arrow article-navigation-next symbol"style="font-family: Pretendard,sans-serif; font-size: .9rem; text-align: left; float: left; margin-right: 5px;">←</div><div class="article-navigation-content article-navigation-next"style="text-align: left; float: left; margin-right: 5px;"><p class="article-navigation-title"style="font-weight: 700; font-size: 1rem; margin: 0;">🌞 개떡같은 코드와 함께한 하루 리뉴얼 이야기</p><p class="article-navigation-subtitle"style="font-weight: 400; font-size: .8rem; margin: 0;">거대한 레거시를 수습한 경험</p></div></a></div><div class="article-navigation-item article-navigation-prev"style="margin-bottom: 1rem; text-align: right; float: right; margin-left: 5px;"><a href="13.html"style="color: #000; text-decoration: none; cursor: pointer;"><div class="article-navigation-arrow article-navigation-prev symbol"style="font-family: Pretendard,sans-serif; font-size: .9rem; text-align: right; float: right; margin-left: 5px;">→</div><div class="article-navigation-content article-navigation-prev"style="text-align: right; float: right; margin-left: 5px;"><p class="article-navigation-title"style="font-weight: 700; font-size: 1rem; margin: 0;">🏕️ 오픈소스 입문을 위한 아주 구체적인 가이드</p><p class="article-navigation-subtitle"style="font-weight: 400; font-size: .8rem; margin: 0;"></p></div></a></div></section><section id="article-comments"><script async src="https://utteranc.es/client.js"repo="parksb/parksb.github.io-comments"issue-term="pathname"theme="github-light"crossorigin="anonymous"></script></section><div class="back-to-article-list"style="font-size: 1rem; margin-bottom: 1rem;"><a href="../articles.html"style="color: #000; text-decoration: none; cursor: pointer;"><span class="symbol"style="font-family: Pretendard,sans-serif;">←</span> Articles</a></div></article></main><footer style="font-size: .8rem; color: #767676;">이 글은 CC BY-NC 4.0 라이선스에 따라 이용할 수 있습니다.</footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-LKTJ5YFJR2"></script><script>window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LKTJ5YFJR2');</script></body></html>