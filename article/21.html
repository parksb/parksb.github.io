<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><title>📡 WSL에서 SSH 서버 열기</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible"content="ie=edge"><meta name="theme-color"content="#F5F5F5"><meta name="description"content="SSH(Secure Shell)는 안전하게 원격 접속을 하기 위해 사용하는 프로토콜이다. 윈도우 데스크탑에서 SSH 서버를 열면 아이패드에서 원격으로 데스크탑 쉘에 접속을 할 수 있다. WSL(Windows Subsystem for Linux)은 윈도우의 서브시스템에 리눅스를 탑재하는 기술이다. 아직 부드럽게 작동하지 않..."><link rel="canonical"href="https://parksb.github.io/article/21.html"><meta name="fediverse:creator"content="@parksb@silicon.moe"><meta property="og:title"content="📡 WSL에서 SSH 서버 열기: 학교에서 아이패드로 코딩하기 "><meta property="og:image"content="https://og-image-parksb.vercel.app/api/parksb-github-io?title=%F0%9F%93%A1%20WSL%EC%97%90%EC%84%9C%20SSH%20%EC%84%9C%EB%B2%84%20%EC%97%B4%EA%B8%B0&subtitle=%ED%95%99%EA%B5%90%EC%97%90%EC%84%9C%20%EC%95%84%EC%9D%B4%ED%8C%A8%EB%93%9C%EB%A1%9C%20%EC%BD%94%EB%94%A9%ED%95%98%EA%B8%B0&date=2018.09.08"><meta property="og:description"content="SSH(Secure Shell)는 안전하게 원격 접속을 하기 위해 사용하는 프로토콜이다. 윈도우 데스크탑에서 SSH 서버를 열면 아이패드에서 원격으로 데스크탑 쉘에 접속을 할 수 있다. WSL(Windows Subsystem for Linux)은 윈도우의 서브시스템에 리눅스를 탑재하는 기술이다. 아직 부드럽게 작동하지 않..."><meta name="twitter:title"content="📡 WSL에서 SSH 서버 열기: 학교에서 아이패드로 코딩하기 "><meta name="twitter:image"content="https://og-image-parksb.vercel.app/api/parksb-github-io?title=%F0%9F%93%A1%20WSL%EC%97%90%EC%84%9C%20SSH%20%EC%84%9C%EB%B2%84%20%EC%97%B4%EA%B8%B0&subtitle=%ED%95%99%EA%B5%90%EC%97%90%EC%84%9C%20%EC%95%84%EC%9D%B4%ED%8C%A8%EB%93%9C%EB%A1%9C%20%EC%BD%94%EB%94%A9%ED%95%98%EA%B8%B0&date=2018.09.08"><meta name="twitter:description"content="SSH(Secure Shell)는 안전하게 원격 접속을 하기 위해 사용하는 프로토콜이다. 윈도우 데스크탑에서 SSH 서버를 열면 아이패드에서 원격으로 데스크탑 쉘에 접속을 할 수 있다. WSL(Windows Subsystem for Linux)은 윈도우의 서브시스템에 리눅스를 탑재하는 기술이다. 아직 부드럽게 작동하지 않..."><meta name="twitter:card"content="summary_large_image"><link rel="shortcut icon"href="../assets/favicon.ico"type="image/x-icon"><link rel="preload"href="https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/Pretendard/woff2/Pretendard-VF-Distilled.woff2"as="font"type="font/woff2"crossorigin><link rel="preload"href="https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/RobotoMono/woff2/RobotoMono-VF-Distilled.woff2"as="font"type="font/woff2"crossorigin><style>@font-face { font-family: 'Pretendard'; src: url('https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/Pretendard/woff2/Pretendard-VF-Distilled.woff2'), local('Pretendard') format('woff2'); font-display: swap; }
      @font-face { font-family: 'RobotoMono'; src: local('RobotoMono'), url('https://cdn.jsdelivr.net/gh/parksb/cdn@master/font/RobotoMono/woff2/RobotoMono-VF-Distilled.woff2') format('woff2'); font-display: swap; }
      a:hover { color: #005ccc !important; }
      #article-content-container a:hover, #article-content-container a:focus { text-decoration: underline !important; }
      #article-content-container .table-of-contents ul li:before { content: counters(item, ".") ". "; counter-increment: item; }
      #article-content-container .footnotes > .footnotes-list > .footnote-item > span { font-size: 0.9rem; }</style></head><body style="font-family: Pretendard,sans-serif; font-size: 16px; margin: 0; padding: 20px 30px 50px 30px; word-break: keep-all;"><header id="top-container"role="navigation"><nav><a class="special-anchor"href="/"style="color: #000; text-decoration: none; cursor: pointer;"><span class="t1"style="font-size: 1.5rem; font-weight: 800;">박성범</span> <span class="t2"style="font-size: 1rem; font-weight: 400;">Simon Park</span></a></nav></header><main id="main-container"style="max-width: 800px; margin-top: 30px; margin-bottom: 30px;"><article id="article-container"><div class="back-to-article-list"style="font-size: 1rem; margin-bottom: 1rem;"><a href="../articles.html"style="color: #000; text-decoration: none; cursor: pointer;"><span class="symbol"style="font-family: Pretendard,sans-serif;">←</span> Articles</a></div><h1 id="article-title"style="margin: 0; padding: 0; font-size: 1.5rem; font-weight: 700;">📡 WSL에서 SSH 서버 열기</h1><h2 id="article-subtitle"style="margin: 0; padding: 0; display: inline; font-size: 1.2rem; font-weight: 400; margin-right: .4rem;">학교에서 아이패드로 코딩하기</h2><a href="https://github.com/parksb/parksb.github.io/commits/development/_articles/20180907_opening-ssh-server-with-wsl.md"style="color: #000; text-decoration: none; cursor: pointer;"><time id="article-date"style="font-family: RobotoMono,monospace; font-size: .8rem;">2018.09.08<span class="symbol"style="font-family: Pretendard,sans-serif;">↗</span></time></a><section id="article-content-container"style="margin-top: 30px;"><details style="margin: 0; padding: 0; display: inline; margin-bottom: 10px;"><summary style="font-weight: 700; cursor: pointer;">Table of Contents</summary><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"></p><div class="table-of-contents"style="font-size: 15px;"><ul style="padding: 0; margin-left: 2rem; list-style-type: none; counter-reset: item; margin: 0; padding-left: 1rem;"><li style="line-height: 1.7rem;"><a href="#openssh-server-%EC%9E%AC%EC%84%A4%EC%B9%98"style="text-decoration: none; cursor: pointer; color: #005ccc;">openssh-server 재설치</a></li><li style="line-height: 1.7rem;"><a href="#sshd_config-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95"style="text-decoration: none; cursor: pointer; color: #005ccc;">sshd_config 파일 수정</a></li><li style="line-height: 1.7rem;"><a href="#%ED%8F%AC%ED%8A%B8%ED%8F%AC%EC%9B%8C%EB%94%A9"style="text-decoration: none; cursor: pointer; color: #005ccc;">포트포워딩</a></li><li style="line-height: 1.7rem;"><a href="#%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%84%A4%EC%A0%95"style="text-decoration: none; cursor: pointer; color: #005ccc;">방화벽 설정</a></li><li style="line-height: 1.7rem;"><a href="#ssh-%EC%84%9C%EB%B2%84-%EC%A0%91%EC%86%8D"style="text-decoration: none; cursor: pointer; color: #005ccc;">SSH 서버 접속</a></li></ul></div><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"></p></details><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">SSH(Secure Shell)는 안전하게 원격 접속을 하기 위해 사용하는 프로토콜이다. 윈도우 데스크탑에서 SSH 서버를 열면 아이패드에서 원격으로 데스크탑 쉘에 접속을 할 수 있다. WSL(Windows Subsystem for Linux)은 윈도우의 서브시스템에 리눅스를 탑재하는 기술이다. 아직 부드럽게 작동하지 않는 부분들이 조금 있지만, 마이크로소프트에서 WSL에 신경을 많이 쓰고 있기 때문에 충분히 쓸만하다.</p><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">내 목적은 학교에서 아이패드로 집에 있는 윈도우 10 데스크탑에 원격 접속해 코딩을 하는 것이었다. 우선 데스크탑에 WSL 우분투 16.04를 설치했고, 아이패드에는 터미널 앱 <a href="https://www.termius.com/"style="text-decoration: none; cursor: pointer; color: #005ccc;">Termius</a>를 설치했다.</p><h2 id="openssh-server-%EC%9E%AC%EC%84%A4%EC%B9%98"tabindex="-1"style="margin: 0; padding: 0; margin-bottom: 1rem; font-weight: 700; font-size: 1.4rem; padding-bottom: 5px; border-bottom: 1px #000 solid;">openssh-server 재설치</h2><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">SSH 서버를 열기위해서는 openssh-server라는 패키지가 필요하다. WSL 우분투 16.04 기준으로 SSH 서버를 실행하는 명령 <code style="font-family: RobotoMono,monospace;">service ssh start</code>를 실행해보면 몇가지 에러가 나타난다. 기본 설치되어있는 openssh-server의 문제이므로, 재설치해준다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-bash"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> sudo</span><span style="color:#032F62"> apt</span><span style="color:#032F62"> remove</span><span style="color:#032F62"> openssh-server</span></span>
<span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> sudo</span><span style="color:#032F62"> apt</span><span style="color:#032F62"> install</span><span style="color:#032F62"> openssh-server</span></span></code></pre><h2 id="sshd_config-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95"tabindex="-1"style="margin: 0; padding: 0; margin-bottom: 1rem; font-weight: 700; font-size: 1.4rem; padding-bottom: 5px; border-bottom: 1px #000 solid;">sshd_config 파일 수정</h2><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"><code style="font-family: RobotoMono,monospace;">sshd_config</code>는 SSH 설정 파일이다. SSH 서버를 열기 전에 이 파일을 약간 수정해줘야 한다. root 권한이 필요하므로, 자신의 계정에 root 권한이 없다면 root 계정으로 전환하고 <code style="font-family: RobotoMono,monospace;">/etc/ssh/sshd_config</code> 파일을 연다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-bash"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> sudo</span><span style="color:#032F62"> su</span><span style="color:#032F62"> -</span><span style="color:#032F62"> root</span></span>
<span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> vi</span><span style="color:#032F62"> /etc/ssh/sshd_config</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">여기서 바꿔야 할 부분은 두 곳이다. (우부투 18.04 버전이라면 <code style="font-family: RobotoMono,monospace;">Port</code> 값만 수정해도 된다.)</p><ul style="margin: 0; padding: 0; margin-bottom: 1rem; margin-left: 2rem;"><li style="line-height: 1.7rem;"><code style="font-family: RobotoMono,monospace;">Port</code>의 값을 변경한다. SSH 기본 포트는 <code style="font-family: RobotoMono,monospace;">22</code>인데, 이는 윈도우에서 이미 사용 중인 포트이기 때문에 WSL에서는 다른 값으로 바꿔줘야 한다. 적당히 <code style="font-family: RobotoMono,monospace;">2222</code>로 했다.</li><li style="line-height: 1.7rem;"><code style="font-family: RobotoMono,monospace;">PasswordAuthentication</code>의 값을 <code style="font-family: RobotoMono,monospace;">yes</code>로 바꿔준다. 패스워드 인증을 사용하도록 설정하는 것이다.</li></ul><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">저장 후 SSH 서버를 재시작해준다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-bash"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> sudo</span><span style="color:#032F62"> service</span><span style="color:#032F62"> ssh</span><span style="color:#005CC5"> --full-restart</span></span></code></pre><h2 id="%ED%8F%AC%ED%8A%B8%ED%8F%AC%EC%9B%8C%EB%94%A9"tabindex="-1"style="margin: 0; padding: 0; margin-bottom: 1rem; font-weight: 700; font-size: 1.4rem; padding-bottom: 5px; border-bottom: 1px #000 solid;">포트포워딩</h2><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">서버 컴퓨터가 공유기에 연결되어 있는 상황이므로 외부에서 접속하려면 포트포워딩을 해줘야한다. 공인 아이피는 공유기에 할당되는데, 공유기에 연결된 컴퓨터나 휴대폰 등의 디바이스에는 <code style="font-family: RobotoMono,monospace;">192.168.0.x</code> 형태의 사설 아이피가 할당된다. 따라서 외부망에서 공인 아이피를 입력해도 이 서버 컴퓨터로는 접속을 할 수가 없다.</p><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">ipTIME을 사용 중이라면 아래 과정을 따르면 된다. (제조사마다 설정 인터페이스가 조금씩 다르다.)</p><ol style="margin: 0; padding: 0; margin-bottom: 1rem; margin-left: 2rem;"><li style="line-height: 1.7rem;">브라우저에 공유기의 공인 아이피 또는 <code style="font-family: RobotoMono,monospace;">192.168.0.1</code>을 입력한다.</li><li style="line-height: 1.7rem;">로그인 후 '고급 설정 &gt; NAT/라우터 관리 &gt; 포트포워드 설정’에 들어간다.</li><li style="line-height: 1.7rem;">내부 아이피 주소는 '현재 접속된 PC의 IP 주소로 설정’으로 설정한다.</li><li style="line-height: 1.7rem;">프로토콜을 TCP로 설정한다.</li><li style="line-height: 1.7rem;">외부 포트는 <code style="font-family: RobotoMono,monospace;">sshd_config</code> 파일에서 설정한 <code style="font-family: RobotoMono,monospace;">Port</code> 값으로 설정한다. (<code style="font-family: RobotoMono,monospace;">2222</code> ~ <code style="font-family: RobotoMono,monospace;">2222</code>)</li><li style="line-height: 1.7rem;">내부 포트도 똑같이 설정한다. (<code style="font-family: RobotoMono,monospace;">2222</code> ~ <code style="font-family: RobotoMono,monospace;">2222</code>)</li><li style="line-height: 1.7rem;">규칙 이름은 마음대로 정한다.</li><li style="line-height: 1.7rem;">좌측 상단의 '저장’을 클릭한다.</li></ol><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">공유기 포트포워딩은 검색해도 많이 나오고, <a href="https://opentutorials.org/course/3265/20038"style="text-decoration: none; cursor: pointer; color: #005ccc;">생활코딩 강의</a>도 잘 되어있다.</p><h2 id="%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%84%A4%EC%A0%95"tabindex="-1"style="margin: 0; padding: 0; margin-bottom: 1rem; font-weight: 700; font-size: 1.4rem; padding-bottom: 5px; border-bottom: 1px #000 solid;">방화벽 설정</h2><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">SSH 포트가 방화벽으로 막혀있을 경우 접속이 불가능하다.</p><ol style="margin: 0; padding: 0; margin-bottom: 1rem; margin-left: 2rem;"><li style="line-height: 1.7rem;">'제어판 &gt; 시스템 및 보안 &gt; Windows Defender 방화벽’에 들어가 '고급 설정’을 클릭한다.</li><li style="line-height: 1.7rem;">인바운드 규칙을 클릭하고 '새 규칙’을 클릭한다.</li><li style="line-height: 1.7rem;">규칙 종류는 '포트’를 선택한다.</li><li style="line-height: 1.7rem;">프로토콜은 TCP, '특정 원격 포트’는 앞서 설정한 <code style="font-family: RobotoMono,monospace;">Port</code> 값으로 설정한다. (<code style="font-family: RobotoMono,monospace;">2222</code>) 이름은 마음대로 정한다.</li><li style="line-height: 1.7rem;">아웃바운드 규칙도 마찬가지로 해준다.</li></ol><h2 id="ssh-%EC%84%9C%EB%B2%84-%EC%A0%91%EC%86%8D"tabindex="-1"style="margin: 0; padding: 0; margin-bottom: 1rem; font-weight: 700; font-size: 1.4rem; padding-bottom: 5px; border-bottom: 1px #000 solid;">SSH 서버 접속</h2><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">WSL bash를 종료하면 SSH 서버도 닫혀버린다. 다시 열고 싶을 때는 아래 명령을 실행하면 된다.</p><pre class="shiki github-light"style="display: block; overflow-x: auto; padding-left: 1rem; margin-bottom: 1rem; line-height: 1.3rem; background-color: #fff; color: #24292e;"tabindex="0"><code class="language-bash"style="font-family: RobotoMono,monospace;"><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> sudo</span><span style="color:#032F62"> service</span><span style="color:#032F62"> ssh</span><span style="color:#032F62"> start</span></span></code></pre><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;"><a href="https://www.putty.org/"style="text-decoration: none; cursor: pointer; color: #005ccc;">Putty</a>나 <a href="https://www.termius.com/"style="text-decoration: none; cursor: pointer; color: #005ccc;">Termius</a> 같은 프로그램을 이용해 접속 테스트를 해보자. 서버와 같은 컴퓨터에서 접속하는 경우 <code style="font-family: RobotoMono,monospace;">hostname</code>은 서버의 공인 아이피로, <code style="font-family: RobotoMono,monospace;">port</code>는 앞서 설정한 <code style="font-family: RobotoMono,monospace;">2222</code>로 두면 된다.</p><p style="font-size: 1rem; line-height: 1.7rem; margin-bottom: 1rem;">이어서 외부망의 넷북에서 테스트했고, 이후 아이패드에서도 테스트했는데 잘 됐다! 이제 학교에 노트북들고 가지 않고 프로그래밍을 할 수 있게 되었다.</p></section><section id="article-navigation"style="margin-top: 50px; overflow: hidden;"><div class="article-navigation-item article-navigation-next"style="margin-bottom: 1rem; text-align: left; float: left; margin-right: 5px;"><a href="23.html"style="color: #000; text-decoration: none; cursor: pointer;"><div class="article-navigation-arrow article-navigation-next symbol"style="font-family: Pretendard,sans-serif; font-size: .9rem; text-align: left; float: left; margin-right: 5px;">←</div><div class="article-navigation-content article-navigation-next"style="text-align: left; float: left; margin-right: 5px;"><p class="article-navigation-title"style="font-weight: 700; font-size: 1rem; margin: 0;">🌐 Top-Down으로 접근하는 네트워크</p><p class="article-navigation-subtitle"style="font-weight: 400; font-size: .8rem; margin: 0;">Computer Networks and the Internet</p></div></a></div><div class="article-navigation-item article-navigation-prev"style="margin-bottom: 1rem; text-align: right; float: right; margin-left: 5px;"><a href="20.html"style="color: #000; text-decoration: none; cursor: pointer;"><div class="article-navigation-arrow article-navigation-prev symbol"style="font-family: Pretendard,sans-serif; font-size: .9rem; text-align: right; float: right; margin-left: 5px;">→</div><div class="article-navigation-content article-navigation-prev"style="text-align: right; float: right; margin-left: 5px;"><p class="article-navigation-title"style="font-weight: 700; font-size: 1rem; margin: 0;">윈도우즈에서 React Native 개발 환경 세팅하기</p><p class="article-navigation-subtitle"style="font-weight: 400; font-size: .8rem; margin: 0;">개발 환경 세팅만 사흘</p></div></a></div></section><section id="article-comments"><script async src="https://utteranc.es/client.js"repo="parksb/parksb.github.io-comments"issue-term="pathname"theme="github-light"crossorigin="anonymous"></script></section><div class="back-to-article-list"style="font-size: 1rem; margin-bottom: 1rem;"><a href="../articles.html"style="color: #000; text-decoration: none; cursor: pointer;"><span class="symbol"style="font-family: Pretendard,sans-serif;">←</span> Articles</a></div></article></main><footer style="font-size: .8rem; color: #767676;">이 글은 CC BY-NC 4.0 라이선스에 따라 이용할 수 있습니다.</footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-LKTJ5YFJR2"></script><script>window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LKTJ5YFJR2');</script></body></html>